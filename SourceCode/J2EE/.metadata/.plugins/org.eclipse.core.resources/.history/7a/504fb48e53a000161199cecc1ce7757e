

import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;
import java.text.SimpleDateFormat;
import java.util.Date;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;


@WebServlet("/patientservlet")
public class PatientServlet extends HttpServlet 
{
	private static final long serialVersionUID = 1L;
//	private static final Object MailId = null;
       
	public String ConvertDate1(String dob) 
	{
		String format = "dd/mm/yyyy";
		SimpleDateFormat sdf = new SimpleDateFormat(format);
		try
		{
			Date dt = sdf.parse(dob);
			SimpleDateFormat sdf1 = new SimpleDateFormat("yyyy-mm-dd");
			return sdf1.format(dt);
		}
		catch(Exception ex)
		{
			System.out.println(ex.toString());	
		}
		return null;
	}
	
	public void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException 
	{
		
//		if(firstname.isEmpty())
//		{
//			System.out.println(" name Data is not filled in required fields");
//			return;
//		}
//		int asciinumber=0;
//		int ascii=firstname.charAt(0);
//		System.out.println(ascii);
//		for(int i=0;i<=firstname.length()-1;i++)
//		{
//			asciinumber=firstname.charAt(i);
//			if(asciinumber>=97 && asciinumber<=122 || asciinumber>=65 && asciinumber<=90 || asciinumber==32)
//			{
//				System.out.println("ascii value is avaliable");
//			}
//			else
//			{
//				System.out.println("Name doesn’t accept special characters other than space");
//				break;
//			}
//		}
//		if(firstname.length()>50)
//		{
//			System.out.println("Length of the name can’t be more than 50 characters");
//		}
//		
//	}
		

//		//PrintWriter out=response.getWriter();
////		out.println("tulasi");
////		System.out.println(firstname);
//	    
//	    HttpSession session=request.getSession();
//	     session.setAttribute("uid", uid);
//	     session.setAttribute("firstname", firstname);
//	     session.setAttribute("lastname", lastname);
//	     session.setAttribute("age", age);
//	     session.setAttribute("gender", gender);
//	     session.setAttribute("dob", dob);
//	     session.setAttribute("height", height);
//	     session.setAttribute("weight", weight);
//	     session.setAttribute("birthday", birthday);
//	     session.setAttribute("address", address);
//	     session.setAttribute("aadhaarno", aadhaarno);
//	     session.setAttribute("mobilenumber", mobilenumber);
//	     session.setAttribute("mailid", mailid);
//	     session.setAttribute("studytype", studytype);
//	     getServletContext().getRequestDispatcher("/patientreceiving.jsp").forward(request, response);

	     
				
		}

	public String database(HttpServletRequest request) 
	
	{
		long uid=Long.parseLong(request.getParameter("uid"));
		String firstname=request.getParameter("firstname");
		String lastname=request.getParameter("lastname");
		String age=request.getParameter("age");
		String gender=request.getParameter("gender");
		String dob=request.getParameter("dob");
		String height=request.getParameter("height");
		String weight=request.getParameter("weight");
		String birthday=request.getParameter("birthday");
		String address=request.getParameter("address");
		String aadhaarno=request.getParameter("aadhaarno");
	    String mobilenumber=request.getParameter("mobilenumber");
	    String mailid=request.getParameter("mailid");
	    String studytype=request.getParameter("studytype");
	    
	    BussinessLogicValidation bussinessLogic = new BussinessLogicValidation();
	    bussinessLogic.validateData(request, null);
	    
	    DataAcessLogic data=new DataAcessLogic();
	    data.registerDataOfApplication();
	    
	    
}
		



