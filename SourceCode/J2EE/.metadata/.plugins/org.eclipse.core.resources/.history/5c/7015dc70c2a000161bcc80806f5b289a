import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

public class BussinessLogicValidation 
{
   public boolean validateData(HttpServletRequest request, HttpServletResponse response)
   {
	   long uid=0;
		try
		{
			HttpSession session=request.getSession();
			
			try
			{
				uid=Long.parseLong(request.getParameter("uid"));
			}
			catch(NumberFormatException ex)
			{
				if(request.getParameter("uid").isEmpty())
				{
					session.setAttribute("valid", 3);
			    	
				}
				else
				{
					session.setAttribute("valid", 4);
			    	
				}
				request.getRequestDispatcher("/patientreceiving.jsp").forward(request, response);
				return true;
			}
			if(uid < 0)
			{
				session.setAttribute("valid",5);
			}
			else if (uid==0) 
			{
					//uid is invalid
					session.setAttribute("valid", 0);
					System.out.println(uid);
			}
			else if(uid > 9999999999L)
			{   
				session.setAttribute("valid",2);
			}
			else 
			{
				// uid is valid 
				session.setAttribute("valid", 1);
				registerDataOfApplication(request);
				
			}
			request.getRequestDispatcher("/patientreceiving.jsp").forward(request, response);
		}
		catch (Exception e) 
		{
			System.out.println(e);
		}
		return false;
		
   }

public void registerDataOfApplication(HttpServletRequest request) 
{
	DataAcessLogic data=new DataAcessLogic();
    data.registerDataOfApplication(request);
	
}
   
  


}
