import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;

import javax.servlet.http.HttpServletRequest;

public class DataAcessLogic 
{

	public void registerDataOfApplication(HttpServletRequest request) 
	{
		
		String connectionString = "jdbc:sqlserver://localhost:1433;database=pcidb;user=sa;password=sa";
		 Connection conn=null;
			try
			{		
				
					Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver").newInstance(); 
					conn=DriverManager.getConnection(connectionString);
					String insertFormat="insert into patientlog(UUID,FirstName,LastName,Age,Gender,DOB,Height,Wheight,BirthDay,Addres,Aadhaarno,MobileNumber,MailId,StudyType) values('%1$s','%2$s','%3$s','%4$s','%5$s','%6$s','%7$s','%8$s','%9$s','%10$s','%11$s','%12$s','%13$s','%14$s')";
					String resultSet=String.format(insertFormat,uid, firstname,lastname,age,gender,ConvertDate1(dob),height.replace("'", "''"),weight,birthday,address,aadhaarno,mobilenumber,mailid,studytype);
					System.out.println(resultSet);
					Statement table = conn.createStatement();
					table.execute(resultSet);
//					ResultSet rs = table.executeQuery("select * from patientlog");
//					// Retrieve from ResultSet and display column data
////				     while (rs.next()) 
////				     {
//				    	
////				        System.out.println (rs.getInt(1) + " " + rs.getString(2) + " " + rs.getInt(3) + " " + rs.getString(4) + " " + rs.getString(5));
//////				        
//////				 } 
					System.out.println(resultSet);
					System.out.println("registerd succesfully");
					conn.close();
					
			}
			catch(Exception ex)
			{
					
					System.out.println(ex.toString());
					
			}	
		return;
	}
}


